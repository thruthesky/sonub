---
name: i18n.js
description: i18n Cloud Function
version: 1.0.0
type: firebase-function
category: cloud-function
original_path: firebase/functions/lib/firebase/functions/src/i18n.js
---

# i18n.js

## 개요

**파일 경로**: `firebase/functions/lib/firebase/functions/src/i18n.js`
**파일 타입**: firebase-function
**카테고리**: cloud-function

i18n Cloud Function

## 소스 코드

```javascript
"use strict";
/**
 * Firebase Cloud Functions용 다국어(i18n) 시스템
 *
 * 지원 언어:
 * - en: 영어
 * - ko: 한국어
 * - ja: 일본어
 * - zh: 중국어 (간체)
 *
 * 사용 예시:
 * ```typescript
 * const message = t("ko", "chatInvitation.title");
 * // 결과: "채팅 초대"
 *
 * const body = t("ko", "chatInvitation.body", {
 *   inviterName: "철수",
 *   roomName: "팀 회의방"
 * });
 * // 결과: "철수님이 팀 회의방에 초대하였습니다."
 * ```
 */
Object.defineProperty(exports, "__esModule", { value: true });
exports.DEFAULT_LANGUAGE = void 0;
exports.t = t;
/**
 * 기본 언어 코드
 */
exports.DEFAULT_LANGUAGE = "en";
/**
 * 다국어 메시지 데이터베이스
 *
 * 주요 메시지:
 * - chatInvitation.*: 채팅 초대 관련 메시지
 */
const translations = {
    en: {
        // 채팅 초대
        "chatInvitation.title": "Chat Invitation",
        "chatInvitation.body": "{inviterName} invited you to {roomName}",
        "chatInvitation.message": "{inviterName} invited you to {roomName}",
    },
    ko: {
        // 채팅 초대
        "chatInvitation.title": "채팅 초대",
        "chatInvitation.body": "{inviterName}님이 {roomName}에 초대하였습니다.",
        "chatInvitation.message": "{inviterName}님이 {roomName} 채팅방에 초대하였습니다.",
    },
    ja: {
        // 채팅 초대
        "chatInvitation.title": "チャット招待",
        "chatInvitation.body": "{inviterName}さんが{roomName}に招待しました。",
        "chatInvitation.message": "{inviterName}さんが{roomName}チャットルームに招待しました。",
    },
    zh: {
        // 채팅 초대
        "chatInvitation.title": "聊天邀请",
        "chatInvitation.body": "{inviterName}邀请您加入{roomName}",
        "chatInvitation.message": "{inviterName}邀请您加入{roomName}聊天室",
    },
};
/**
 * 번역 함수
 *
 * @param languageCode - 언어 코드 (en, ko, ja, zh)
 * @param key - 번역 키 (예: "chatInvitation.title")
 * @param params - 치환할 파라미터 (선택 사항)
 * @returns 번역된 메시지
 *
 * @example
 * ```typescript
 * // 단순 번역
 * const title = t("ko", "chatInvitation.title");
 * // "채팅 초대"
 *
 * // 파라미터 치환
 * const body = t("ko", "chatInvitation.body", {
 *   inviterName: "철수",
 *   roomName: "팀 회의방"
 * });
 * // "철수님이 팀 회의방에 초대하였습니다."
 * ```
 */
function t(languageCode, key, params) {
    var _a, _b;
    // 언어 코드 검증 및 기본값 처리
    const lang = isValidLanguageCode(languageCode) ? languageCode : exports.DEFAULT_LANGUAGE;
    // 번역 메시지 가져오기
    const translation = (_a = translations[lang]) === null || _a === void 0 ? void 0 : _a[key];
    // 번역이 없으면 영어(기본값) 사용
    if (!translation) {
        const fallback = (_b = translations[exports.DEFAULT_LANGUAGE]) === null || _b === void 0 ? void 0 : _b[key];
        if (!fallback) {
            // 영어도 없으면 키 그대로 반환
            return key;
        }
        return replacePlaceholders(fallback, params);
    }
    // 파라미터 치환
    return replacePlaceholders(translation, params);
}
/**
 * 언어 코드가 유효한지 검증
 *
 * @param code - 검증할 언어 코드
 * @returns 유효하면 true, 아니면 false
 */
function isValidLanguageCode(code) {
    if (!code)
        return false;
    return ["en", "ko", "ja", "zh"].includes(code);
}
/**
 * 메시지 내의 플레이스홀더를 파라미터 값으로 치환
 *
 * 플레이스홀더 형식: {paramName}
 *
 * @param message - 원본 메시지
 * @param params - 치환할 파라미터
 * @returns 치환된 메시지
 *
 * @example
 * ```typescript
 * const result = replacePlaceholders(
 *   "{name}님이 {room}에 초대하였습니다.",
 *   { name: "철수", room: "회의방" }
 * );
 * // "철수님이 회의방에 초대하였습니다."
 * ```
 */
function replacePlaceholders(message, params) {
    if (!params) {
        return message;
    }
    let result = message;
    for (const [key, value] of Object.entries(params)) {
        const placeholder = `{${key}}`;
        result = result.replace(new RegExp(placeholder, "g"), value);
    }
    return result;
}
//# sourceMappingURL=i18n.js.map
```

## 주요 기능

(이 섹션은 수동으로 업데이트 필요)

## 관련 파일

(이 섹션은 수동으로 업데이트 필요)
